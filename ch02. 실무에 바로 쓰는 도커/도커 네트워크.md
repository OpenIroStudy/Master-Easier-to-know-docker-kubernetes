### 도커 네트워크

### 브릿지 모드
브릿지 모드는 도커 네트워크의 default 설정이며 가장 많이 사용하는 네트워크이다. <br>
![image](https://user-images.githubusercontent.com/43237961/174493209-b299c6fa-a7b9-4a39-b013-3a90ad6bc9e6.png) <br><br><br><br> 
<b> 3:docker0은 도커가 점유하고 있는 네트워크 인터페이스이다. </b> <br><br>
도커를 설치하면 기본적으로 docker0이라는 네트워크 인터페이스가 생긴다. <br>
docker0은 컨테이너들이 통신하기 위한 가상 Linux Bridge이다. <br>
Linux bridge는 bridge 네트워크 안엣 컨테이너들끼리 독립적으로 통신하도록 해 주고, <br>
외부 호스트 서버와도 통신할 수 있도록 하는 네트워크 기술을 말한다. <br>
<br> 
![image](https://user-images.githubusercontent.com/43237961/174493626-ecc96244-4bfc-4fb4-a15e-9a31a4244668.png)  <br>
87pg 참조 <br>
호스트 서버와 컨테이너들이 동일하게 네트워크 통신을 할 수 있도록 Linux bridge가 지원한다. <br>
호스트 서버 안데 컨테이너들이 윙치해 있지만 bridge를 통해 독립적인 네트워크 형성 <br>

```linux
 docker network insepct bridge //도커 bridge에 대한 정보를 확인할 수 있다. 
```

* 실습
Nginx, Mysql 오피셜 이미지에 ifconfig 명령어가 추가된 이미지 만들기

```
FROM nginx:latest
RUN apt-get update
RUN apt-get install -y net-tools
RUN apt-get install -y iputils-ping

FROM mysql:5.7.8
RUN apt-get update
RUN apt-get install -y net-tools
RUN apt-get install -y iputils-ping

docker build -t mysql-custom .
docker build -t mysql-custom .

docker run --name db -e MYSQL_ROOT_PASSWORD=1234 -p 3306:3306 -d mysql-custom
```
![image](https://user-images.githubusercontent.com/43237961/174494268-bcff1372-d293-48f6-b8a6-db117748608c.png)   
<br>
컨테이너 ifconfig 명령을 실행할 수 있도록 패키지 매니저를 이용해 설치했다. <br>
172.17.0.3,가 IP로 할당됐다. 네트워크 환경이 호스트 서버와 동일하기 때문에 호스트 서버에서 컨테이너의 IP를 통해 통신이 가능해야 한다. <br>

![image](https://user-images.githubusercontent.com/43237961/174494426-3163fad8-0826-4637-8864-99449b9a6d92.png)
  <br><br> 
  IP를 사용해 통신하는 것을 볼 수 있다. 
  
